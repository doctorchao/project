<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script>
        function delA(){
               // 删除的话，本质是删除超连接所在的那行
               // 获取tr
               var tr = this.parentNode.parentNode;
               // 根据上面的tr，得到员工的名字
               var name = tr.getElementsByTagName("td")[0].innerHTML;
               // alert(name)
               // 删除之前提示一个警告框
               var flag = confirm("确认删除 "+name+" 吗？");
               if(flag){
                   // 说明点击了确认删除
                   tr.parentNode.removeChild(tr);
               }
               return false;
            }
         window.onload = function(){
            
            //  完成删除的操作
            var allA = document.getElementsByTagName("a");
            // 循环给a标签注册点击事件
            for(var i=0; i<allA.length; i++){
                allA[i].onclick = delA;
            }

            // 完成添加员工的功能
            var addEmpButton = document.getElementById("addEmpButton");
            addEmpButton.onclick = function(){
                console.log("hello")
                // 获取员工的信息
                var name = document.getElementById("empName").value;
                var email = document.getElementById("email").value;
                var salary = document.getElementById("salary").value;
                // 创建一个tr
                var tr = document.createElement("tr");
                // 创建4个td
                var nameTd = document.createElement("td")
                var emailTd = document.createElement("td")
                var salaryTd = document.createElement("td")
                var aTd = document.createElement("td")
                // 创建a标签
                var a = document.createElement("a")
                // 创建4个文本节点
                var nameText = document.createTextNode(name);
                var emailText = document.createTextNode(email);
                var salaryText = document.createTextNode(salary);
                var delText = document.createTextNode("删除");
                // 把文本节点扔到td中
                nameTd.appendChild(nameText);
                emailTd.appendChild(emailText);
                salaryTd.appendChild(salaryText);
                a.appendChild(delText)
                aTd.appendChild(a)
                // 把td扔到tr中
                tr.appendChild(nameTd);
                tr.appendChild(emailTd);
                tr.appendChild(salaryTd);
                tr.appendChild(aTd);
                // 给a标签添加一个href属性
                a.href = "javascript:;";
                a.onclick = delA;
                console.log(tr)
                // 获取tabel，把上面封装好的tr扔到tabel中
                var employeeTabel = document.getElementById("employeeTabel");
                employeeTabel.appendChild(tr);
            }
         }
    </script>
</head>

<body>
    <table id="employeeTabel">
        <tr>
            <th>姓名</th>
            <th>邮箱</th>
            <th>薪水</th>
            <th>&nbsp;</th>
        </tr>
        <tr>
            <td>张三</td>
            <td>123@qq.com</td>
            <td>1000</td>
            <td><a href="javascript:;">删除</a></td>
        </tr>
        <tr>
            <td>李四</td>
            <td>456@qq.com</td>
            <td>2000</td>
            <td><a href="javascript:;">删除</a></td>
        </tr>
        <tr>
            <td>王五</td>
            <td>789@qq.com</td>
            <td>3000</td>
            <td><a href="javascript:;">删除</a></td>
        </tr>
    </table>
    <hr>
    <div id="formDiv">
        <h3>添加新员工</h3>
        <!-- <form action=""> -->
            <ul>
                <li>
                    姓名：<input type="text" name="empName" id="empName" />
                </li>
                <li>
                    邮箱：<input type="text" name="email" id="email" />
                </li>
                <li>
                    薪水：<input type="text" name="salary" id="salary" />
                </li>
                <li>
                    <button id="addEmpButton">添加</button>
                </li>
            </ul>
        <!-- </form> -->
    </div>
</body>

</html>